@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prism token colors - light/dark, scoped to .editor only */
@layer base {
	/* Light: GitHub-like */
	:root {
		/* App theme tokens (shadcn/radix) */
		--background: 0 0% 100%;
		--foreground: 222.2 84% 4.9%;
		--popover: 0 0% 100%;
		--popover-foreground: 222.2 84% 4.9%;
		--card: 0 0% 100%;
		--card-foreground: 222.2 84% 4.9%;

		--primary: 222.2 47.4% 11.2%;
		--primary-foreground: 210 40% 98%;
		--secondary: 210 40% 96.1%;
		--secondary-foreground: 222.2 47.4% 11.2%;
		--muted: 210 40% 96.1%;
		--muted-foreground: 215.4 16.3% 46.9%;
		--accent: 210 40% 96.1%;
		--accent-foreground: 222.2 47.4% 11.2%;
		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 210 40% 98%;

		--border: 214.3 31.8% 91.4%;
		--input: 214.3 31.8% 91.4%;
		--ring: 215 20.2% 65.1%;
		--radius: 0.5rem;

		--json-key: 212 100% 40%; /* blue #005cc5 */
		--json-string: 134 47% 35%; /* green #22863a */
		--json-number: 291 45% 45%; /* purple #6f42c1 */
		--json-boolean: 0 65% 50%; /* red #d73a49 */
		--json-null: 340 70% 50%; /* pinkish #d23682-ish */
		--json-punctuation: 0 0% 45%; /* gray */
	}
	/* Dark: One Dark-like */
	.dark {
		/* App theme tokens (shadcn/radix) */
		/* Deep navy background + softer grayscale contrast */
		--background: 222.2 90% 3%;
		--foreground: 210 18% 88%;
		--popover: 222.2 84% 4.9%;
		--popover-foreground: 210 18% 88%;
		--card: 222.2 75% 4.2%;
		--card-foreground: 210 18% 88%;

		--primary: 210 18% 90%;
		--primary-foreground: 222.2 47.4% 11.2%;
		--secondary: 220 30% 12%;
		--secondary-foreground: 210 18% 88%;
		--muted: 220 30% 12%;
		--muted-foreground: 215 20.2% 66%;
		--accent: 220 30% 12%;
		--accent-foreground: 210 18% 88%;
		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 210 18% 88%;

		--border: 220 25% 16%;
		--input: 220 25% 16%;
		--ring: 212.7 26.8% 83.9%;
		--radius: 0.5rem;

		--json-key: 207 82% 66%; /* blue #61afef */
		--json-string: 96 38% 70%; /* green #98c379 */
		--json-number: 29 54% 60%; /* orange #d19a66 */
		--json-boolean: 355 65% 66%; /* red #e06c75 */
		--json-null: 286 57% 65%; /* purple #c678dd */
		--json-punctuation: 0 0% 65%; /* gray */
	}
}

@layer components {
	/* default code color in editor for non-token text */
	.editor pre[class*="language-"],
	.editor code[class*="language-"] {
		color: hsl(var(--foreground));
	}

	/* ensure no token backgrounds (e.g., punctuation/colons) */
	.editor .token.punctuation,
	.editor .token.operator,
	.editor .token.namespace {
		background: transparent !important;
	}

	.editor .token.property {
		color: hsl(var(--json-key));
	}
	.editor .token.string {
		color: hsl(var(--json-string));
	}
	.editor .token.number {
		color: hsl(var(--json-number));
	}
	.editor .token.boolean {
		color: hsl(var(--json-boolean));
	}
	.editor .token.null {
		color: hsl(var(--json-null));
	}
	.editor .token.punctuation {
		color: hsl(var(--json-punctuation));
	}
}
